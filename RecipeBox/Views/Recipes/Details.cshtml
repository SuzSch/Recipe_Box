@{
    Layout = "_Layout";
}

@using RecipeBox.Models
@model RecipeBox.Models.Recipe

<h1>Recipe Details:</h1>

<h2>Name: @Html.DisplayFor(model => model.RecipeName)</h2>
<h2>Directions: @Html.DisplayFor(model => model.Directions )</h2>
<h2>Rating: @Html.DisplayFor(model => model.Rating)</h2>

@if (@Model.JoinEntities.Count == 0)
{
    <p>This recipe does not have any ingredients added yet, ya dingus!</p>
}
else
{
    <h4>Ingredients:</h4>
    <ul>
    @foreach (RecipeIng join in Model.JoinEntities)
        {
            <li>@join.Ing.Name</li>
            @using (Html.BeginForm("DeleteJoin", "Recipes"))
            {
                @Html.Hidden("joinId", @join.RecipeIngId)
                <input type="submit" value="Delete"/>
            }
        }
    </ul>
}
@using (Html.BeginForm("AddIng", "Recipes"))
{
    @Html.HiddenFor(model => model.RecipeId)
    @Html.Label("Select an Ingredient")
    @Html.DropDownList("IngId")

    <input type="submit" value="Add Ingredient" />
}

<p>@Html.ActionLink("Back to Recipe List", "Index")</p>
<p>@Html.ActionLink("Edit Recipe", "Edit", new {id = Model.RecipeId})</p>
<p>@Html.ActionLink("Delete Recipe", "Delete", new {id = Model.RecipeId})</p>